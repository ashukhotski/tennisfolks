<div ng-if="authenticated && hasPermission()">
	<div class="page-header">
		<h1>{{league.name}}</h1>
	</div>
	
	<div class="row">
		<ul class="nav nav-tabs">
			<li role="presentation"><a href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/members">{{translate.members}}</a></li>
			<li role="presentation"><a href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/requests">{{translate.requests}}</a></li>
			<li role="presentation" class="active"><a href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/tournaments">{{translate.tournaments}}</a></li>
		</ul>
		<br>
	</div>

	<div class="page-header">
		<h2>{{translate.tournaments}} <a class="btn btn-primary" ng-href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/tournaments/create">{{translate.create}}</a></h2>
	</div>
	<ul class="media-list">
		<li class="media" ng-repeat="tournament in tournaments">
  			<div class="media-left">
    			<a href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/tournaments/{{tournament.id}}">
      				<img class="media-object" width="64px" ng-src="{{renderImage(tournament.league.logo)}}" alt="{{tournament.name}}">
    			</a>
  			</div>
  			<div class="media-body">
    			<h4 class="media-heading">{{tournament.name}} <small>{{tournament.startDateMonth}}/{{tournament.startDateDay}}/{{tournament.startDateYear}} - {{tournament.endDateMonth}}/{{tournament.endDateDay}}/{{tournament.endDateYear}}</small></h4>	
    			<div>
					<a role="button" class="btn btn-primary" ng-href="./{{routeParams.lang}}/leagues/{{routeParams.leagueId}}/manage/tournaments/{{tournament.id}}">{{translate.edit}}</a>
					<button ng-if="!tournament.finished && !tournament.deleted" type="button" class="btn btn-default" ng-click="deleteTournament(tournament.id)">{{translate.toDelete}}</button>
					<button ng-if="tournament.deleted" type="button" class="btn btn-default" ng-click="restoreTournament(tournament.id)">{{translate.restore}}</button>
				</div>
  			</div>
		</li>
	</ul>
	<button ng-if="(nextPageForTournaments > currentPageForTournaments) && (tournaments !== null)" class="btn btn-default btn-block" ng-click="showMoreTournaments(currentPageForTournaments, nextPageForTournaments)">{{translate.showMore}}</button>
</div>

